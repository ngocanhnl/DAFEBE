
extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/selectTree.pug

block main
  +alert-error(5000)
  if(role.permission.includes("courses_create"))
    h1.mb-4 Thêm mới khóa học
    form(
      action=`/${prefixAdmin}/courses/create`
      method="POST"
      enctype="multipart/form-data"
    )
      .form-group
        label(for="title") Tên khóa học
        input#title.form-control(
          type="text"
          name="title"
          required
        )
      .form-group
        label(for="course_category_id") Danh mục khóa học
        select#course_category_id.form-control(name="course_category_id")
          option(value="") -- Chọn danh mục khóa học --
          +selectTree(records)

      //- .form-group
      //-   label(for="instructor") Giảng viên
      //-   select#instructor.form-control(name="instructor" required)
      //-     option(value="") -- Chọn giảng viên --
      //-     each instructor in instructors
      //-       option(value=instructor._id) #{instructor.fullName}

      .form-group
        label(for="level") Cấp độ
        select#level.form-control(name="level")
          option(value="") -- Chọn cấp độ --
          option(value="Beginner") Người mới bắt đầu
          option(value="Intermediate") Trung cấp
          option(value="Advanced") Nâng cao

      .form-group
        label(for="language") Ngôn ngữ giảng dạy
        input#language.form-control(
          type="text"
          name="language"
          value="Tiếng Việt"
        )

      .form-group
        label(for="duration") Thời lượng (phút)
        input#duration.form-control(
          type="number"
          name="duration"
          value="0"
          min="0"
          required
        )

      .form-group.form-check.form-check-inline
        input#featured1.form-check-input(
          type="radio"
          name="featured"
          value="1"
        )
        label.form-check-label(for="featured1") Nổi bật

      .form-group.form-check.form-check-inline
        input#featured0.form-check-input(
          type="radio"
          name="featured"
          value="0"
          checked
        )
        label.form-check-label(for="featured0") Không

      .form-group
        label(for="desc") Mô tả
        textarea#desc.form-control.textarea-mce(
          name="description"
          rows="5"
        )

      .form-group
        label(for="content") Nội dung khóa học
        textarea#content.form-control.textarea-mce(
          name="content"
          rows="10"
        )

      .form-group
        label(for="price") Giá (VNĐ)
        input#price.form-control(
          type="number"
          name="price"
          value="0"
          min="0"
          required
        )

      .form-group
        label(for="discount") % Giảm giá
        input#discount.form-control(
          type="number"
          name="discountPercentage"
          value="0"
          min="0"
        )

      .form-group(upload-image)
        label(for="thumbnail") Ảnh đại diện
        input#thumbnail.form-control-file(
          type="file"
          name="thumbnail"
          accept="image/*"
          upload-image-input
        )
        img.image-preview(
          src=""
          upload-image-preview
        )

      .form-group
        label(for="position") Vị trí
        input#position.form-control(
          type="number"
          name="position"
          placeholder="Tự động tăng"
          min="1"
        )

      .form-group.form-check.form-check-inline
        input#statusActive.form-check-input(
          type="radio"
          name="status"
          value="active"
          checked
        )
        label.form-check-label(for="statusActive") Hoạt động

      .form-group.form-check.form-check-inline
        input#statusInActive.form-check-input(
          type="radio"
          name="status"
          value="inactive"
        )
        label.form-check-label(for="statusInActive") Dừng hoạt động

      .form-group
        button.btn.btn-primary(type="submit") Tạo mới
