extends ../../layouts/default.pug

block main
  h1(class="mb-4") Chỉnh sửa người dùng

  .card
    .card-body
      form(
        action=`/${prefixAdmin}/users/edit/${data.id}`
        method="PATCH"
        enctype="multipart/form-data"
      )
        .row
          .col-md-6
            .form-group
              label(for="fullName") Họ tên
              input(
                type="text"
                class="form-control"
                id="fullName"
                name="fullName"
                value=data.fullName
                required
              )
          
          .col-md-6
            .form-group
              label(for="email") Email
              input(
                type="email"
                class="form-control"
                id="email"
                name="email"
                value=data.email
                required
              )
        
        .row
          .col-md-6
            .form-group
              label(for="password") Mật khẩu mới (để trống nếu không thay đổi)
              input(
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Nhập mật khẩu mới nếu muốn thay đổi"
              )
          
          .col-md-6
            .form-group
              label(for="phone") Số điện thoại
              input(
                type="tel"
                class="form-control"
                id="phone"
                name="phone"
                value=data.phone || ''
              )
        
        .row
          .col-md-6
            .form-group
              label(for="avatar") Avatar
              if data.avatar
                .mb-2
                  img(
                    src=data.avatar
                    alt="Avatar hiện tại"
                    width="100px"
                    height="100px"
                    style="border-radius: 50%; object-fit: cover;"
                  )
              input(
                type="file"
                class="form-control-file"
                id="avatar"
                name="avatar"
                accept="image/*"
              )
          
          .col-md-6
            .form-group
              label(for="status") Trạng thái
              select(
                class="form-control"
                id="status"
                name="status"
              )
                option(value="active" selected=data.status === "active") Hoạt động
                option(value="inactive" selected=data.status === "inactive") Dừng hoạt động
        
        .form-group
          label(for="email_verified") Xác thực email
          select(
            class="form-control"
            id="email_verified"
            name="email_verified"
          )
            option(value="false" selected=data.email_verified === false) Chưa xác thực
            option(value="true" selected=data.email_verified === true) Đã xác thực
        
        .form-group
          label(for="phone_verified") Xác thực số điện thoại
          select(
            class="form-control"
            id="phone_verified"
            name="phone_verified"
          )
            option(value="false" selected=data.phone_verified === false) Chưa xác thực
            option(value="true" selected=data.phone_verified === true) Đã xác thực
        
        .form-group.mt-4
          button(
            type="submit"
            class="btn btn-primary"
          ) Cập nhật
          a(
            href=`/${prefixAdmin}/users`
            class="btn btn-secondary ml-2"
          ) Hủy bỏ
